/* Injected as a string into Shadow DOM via ?inline import.
   Uses :host for resets — isolated from all host page styles.
   No Tailwind: Tailwind v4 has :root/:host variable scoping issues in Shadow DOM. */

/* ── Light theme tokens (default) ──────────────────────────────────── */

:host {
  all: initial;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', sans-serif;
  font-size: 13px;
  line-height: 1.4;
  color-scheme: light;

  --toolbar-bg:          #fafafa;
  --toolbar-fg:          #171717;
  --toolbar-muted:       #737373;
  --toolbar-border:      #e5e5e5;
  --toolbar-shadow:      0 4px 20px rgba(0, 0, 0, 0.08), 0 1px 4px rgba(0, 0, 0, 0.04);
  --toolbar-pill-sel:    rgba(212, 212, 212, 0.5);
  --toolbar-pill-hover:  rgba(229, 229, 229, 0.6);
  --toolbar-track-off:   #e5e5e5;
}

/* ── Dark theme: OS preference (applies when page gives no signal) ── */

@media (prefers-color-scheme: dark) {
  :host {
    color-scheme: dark;

    --toolbar-bg:          #171717;
    --toolbar-fg:          #f5f5f5;
    --toolbar-muted:       #a3a3a3;
    --toolbar-border:      #404040;
    --toolbar-shadow:      0 4px 20px rgba(0, 0, 0, 0.4), 0 1px 4px rgba(0, 0, 0, 0.2);
    --toolbar-pill-sel:    rgba(82, 82, 82, 0.4);
    --toolbar-pill-hover:  rgba(82, 82, 82, 0.3);
    --toolbar-track-off:   #525252;
  }
}

/* ── Dark theme: page-level signal (overrides OS preference) ────────── */

:host([data-theme="dark"]) {
  color-scheme: dark;

  --toolbar-bg:          #171717;
  --toolbar-fg:          #f5f5f5;
  --toolbar-muted:       #a3a3a3;
  --toolbar-border:      #404040;
  --toolbar-shadow:      0 4px 20px rgba(0, 0, 0, 0.4), 0 1px 4px rgba(0, 0, 0, 0.2);
  --toolbar-pill-sel:    rgba(108, 99, 255, 0.2);
  --toolbar-pill-hover:  rgba(255, 255, 255, 0.06);
  --toolbar-track-off:   #525252;
}

/* ── Light theme: explicit page signal (overrides OS dark preference) ── */

:host([data-theme="light"]) {
  color-scheme: light;

  --toolbar-bg:          #fafafa;
  --toolbar-fg:          #171717;
  --toolbar-muted:       #737373;
  --toolbar-border:      #e5e5e5;
  --toolbar-shadow:      0 4px 20px rgba(0, 0, 0, 0.08), 0 1px 4px rgba(0, 0, 0, 0.04);
  --toolbar-pill-sel:    rgba(212, 212, 212, 0.5);
  --toolbar-pill-hover:  rgba(229, 229, 229, 0.6);
  --toolbar-track-off:   #e5e5e5;
}

/* ── Toolbar shell ─────────────────────────────────────────────────── */

.toolbar {
  position: fixed;
  top: 16px;
  right: 16px;
  background: var(--toolbar-bg);
  border: 1px solid var(--toolbar-border);
  border-radius: 12px;
  padding: 10px 12px 8px;
  min-width: 210px;
  box-shadow: var(--toolbar-shadow);
  color: var(--toolbar-fg);
  user-select: none;
  pointer-events: all;
  transition: border-color 0.15s, box-shadow 0.15s;
}


/* ── Drag handle / header row ──────────────────────────────────────── */

.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: grab;
  gap: 8px;
}

.header:active {
  cursor: grabbing;
}

.logo {
  font-weight: 700;
  font-size: 16px;
  letter-spacing: -0.2px;
  color: var(--toolbar-fg);
  flex: 1;
  pointer-events: none;
}
